define("../lib/es5-shim",[],function(){function t(){}function e(t){return t=+t,t!==t?t=0:0!==t&&t!==1/0&&t!==-(1/0)&&(t=(t>0||-1)*Math.floor(Math.abs(t))),t}function i(t){var e=typeof t;return null===t||"undefined"===e||"boolean"===e||"number"===e||"string"===e}function n(t){var e,n,r;if(i(t))return t;if(n=t.valueOf,"function"==typeof n&&(e=n.call(t),i(e)))return e;if(r=t.toString,"function"==typeof r&&(e=r.call(t),i(e)))return e;throw new TypeError}Function.prototype.bind||(Function.prototype.bind=function(e){var i=this;if("function"!=typeof i)throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var n=d.call(arguments,1),r=function(){if(this instanceof h){var t=i.apply(this,n.concat(d.call(arguments)));return Object(t)===t?t:this}return i.apply(e,n.concat(d.call(arguments)))},s=Math.max(0,i.length-n.length),o=[],a=0;s>a;a++)o.push("$"+a);var h=Function("binder","return function("+o.join(",")+"){return binder.apply(this,arguments)}")(r);return i.prototype&&(t.prototype=i.prototype,h.prototype=new t,t.prototype=null),h});var r,s,o,a,h,l=Function.prototype.call,c=Array.prototype,u=Object.prototype,d=c.slice,f=l.bind(u.toString),p=l.bind(u.hasOwnProperty);if((h=p(u,"__defineGetter__"))&&(r=l.bind(u.__defineGetter__),s=l.bind(u.__defineSetter__),o=l.bind(u.__lookupGetter__),a=l.bind(u.__lookupSetter__)),2!=[1,2].splice(0).length){var g=Array.prototype.splice,m=Array.prototype.push,v=Array.prototype.unshift;Array.prototype.splice=function(){function t(t){for(var e=[];t--;)e.unshift(t);return e}var e,i=[];return i.splice.bind(i,0,0).apply(null,t(20)),i.splice.bind(i,0,0).apply(null,t(26)),e=i.length,i.splice(5,0,"XXX"),e+1==i.length?!0:void 0}()?function(t,e){return arguments.length?g.apply(this,[void 0===t?0:t,void 0===e?this.length-t:e].concat(d.call(arguments,2))):[]}:function(t,e){var i,n=d.call(arguments,2),r=n.length;if(!arguments.length)return[];if(void 0===t&&(t=0),void 0===e&&(e=this.length-t),r>0){if(0>=e){if(t==this.length)return m.apply(this,n),[];if(0==t)return v.apply(this,n),[]}return i=d.call(this,t,t+e),n.push.apply(n,d.call(this,t+e,this.length)),n.unshift.apply(n,d.call(this,0,t)),n.unshift(0,this.length),g.apply(this,n),i}return g.call(this,t,e)}}if(1!=[].unshift(0)){var v=Array.prototype.unshift;Array.prototype.unshift=function(){return v.apply(this,arguments),this.length}}Array.isArray||(Array.isArray=function(t){return"[object Array]"==f(t)});var y=Object("a"),b="a"!=y[0]||!(0 in y),_=function(t){var e=!0;return t&&t.call("foo",function(t,i,n){"object"!=typeof n&&(e=!1)}),!!t&&e};if(Array.prototype.forEach&&_(Array.prototype.forEach)||(Array.prototype.forEach=function(t){var e=q(this),i=b&&"[object String]"==f(this)?this.split(""):e,n=arguments[1],r=-1,s=i.length>>>0;if("[object Function]"!=f(t))throw new TypeError;for(;++r<s;)r in i&&t.call(n,i[r],r,e)}),Array.prototype.map&&_(Array.prototype.map)||(Array.prototype.map=function(t){var e=q(this),i=b&&"[object String]"==f(this)?this.split(""):e,n=i.length>>>0,r=Array(n),s=arguments[1];if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");for(var o=0;n>o;o++)o in i&&(r[o]=t.call(s,i[o],o,e));return r}),Array.prototype.filter&&_(Array.prototype.filter)||(Array.prototype.filter=function(t){var e,i=q(this),n=b&&"[object String]"==f(this)?this.split(""):i,r=n.length>>>0,s=[],o=arguments[1];if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");for(var a=0;r>a;a++)a in n&&(e=n[a],t.call(o,e,a,i)&&s.push(e));return s}),Array.prototype.every&&_(Array.prototype.every)||(Array.prototype.every=function(t){var e=q(this),i=b&&"[object String]"==f(this)?this.split(""):e,n=i.length>>>0,r=arguments[1];if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");for(var s=0;n>s;s++)if(s in i&&!t.call(r,i[s],s,e))return!1;return!0}),Array.prototype.some&&_(Array.prototype.some)||(Array.prototype.some=function(t){var e=q(this),i=b&&"[object String]"==f(this)?this.split(""):e,n=i.length>>>0,r=arguments[1];if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");for(var s=0;n>s;s++)if(s in i&&t.call(r,i[s],s,e))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(t){var e=q(this),i=b&&"[object String]"==f(this)?this.split(""):e,n=i.length>>>0;if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var r,s=0;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in i){r=i[s++];break}if(++s>=n)throw new TypeError("reduce of empty array with no initial value")}for(;n>s;s++)s in i&&(r=t.call(void 0,r,i[s],s,e));return r}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(t){var e=q(this),i=b&&"[object String]"==f(this)?this.split(""):e,n=i.length>>>0;if("[object Function]"!=f(t))throw new TypeError(t+" is not a function");if(!n&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var r,s=n-1;if(arguments.length>=2)r=arguments[1];else for(;;){if(s in i){r=i[s--];break}if(--s<0)throw new TypeError("reduceRight of empty array with no initial value")}if(0>s)return r;do s in this&&(r=t.call(void 0,r,i[s],s,e));while(s--);return r}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(t){var i=b&&"[object String]"==f(this)?this.split(""):q(this),n=i.length>>>0;if(!n)return-1;var r=0;for(arguments.length>1&&(r=e(arguments[1])),r=r>=0?r:Math.max(0,n+r);n>r;r++)if(r in i&&i[r]===t)return r;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(t){var i=b&&"[object String]"==f(this)?this.split(""):q(this),n=i.length>>>0;if(!n)return-1;var r=n-1;for(arguments.length>1&&(r=Math.min(r,e(arguments[1]))),r=r>=0?r:n-Math.abs(r);r>=0;r--)if(r in i&&t===i[r])return r;return-1}),!Object.keys){var w=!0,x=function(){}.propertyIsEnumerable("prototype"),C=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],D=C.length;for(var I in{toString:null})w=!1;Object.keys=function H(t){var e="[object Function]"===f(t),i=null!==t&&"object"==typeof t;if(!i&&!e)throw new TypeError("Object.keys called on a non-object");var H=[],n=x&&e;for(var r in t)n&&"prototype"===r||!p(t,r)||H.push(r);if(w)for(var s=t.constructor,o=s&&s.prototype===t,a=0;D>a;a++){var h=C[a];o&&"constructor"===h||!p(t,h)||H.push(h)}return H}}var E=-621987552e5,k="-000001";Date.prototype.toISOString&&-1!==new Date(E).toISOString().indexOf(k)||(Date.prototype.toISOString=function(){var t,e,i,n,r;if(!isFinite(this))throw new RangeError("Date.prototype.toISOString called on non-finite value.");for(n=this.getUTCFullYear(),r=this.getUTCMonth(),n+=Math.floor(r/12),r=(r%12+12)%12,t=[r+1,this.getUTCDate(),this.getUTCHours(),this.getUTCMinutes(),this.getUTCSeconds()],n=(0>n?"-":n>9999?"+":"")+("00000"+Math.abs(n)).slice(n>=0&&9999>=n?-4:-6),e=t.length;e--;)i=t[e],10>i&&(t[e]="0"+i);return n+"-"+t.slice(0,2).join("-")+"T"+t.slice(2).join(":")+"."+("000"+this.getUTCMilliseconds()).slice(-3)+"Z"});var S=!1;try{S=Date.prototype.toJSON&&null===new Date(0/0).toJSON()&&-1!==new Date(E).toJSON().indexOf(k)&&Date.prototype.toJSON.call({toISOString:function(){return!0}})}catch(N){}S||(Date.prototype.toJSON=function(){var t,e=Object(this),i=n(e);if("number"==typeof i&&!isFinite(i))return null;if(t=e.toISOString,"function"!=typeof t)throw new TypeError("toISOString property is not callable");return t.call(e)}),Date=function(t){function e(i,n,r,s,o,a,h){var l=arguments.length;if(this instanceof t){var c=1==l&&String(i)===i?new t(e.parse(i)):l>=7?new t(i,n,r,s,o,a,h):l>=6?new t(i,n,r,s,o,a):l>=5?new t(i,n,r,s,o):l>=4?new t(i,n,r,s):l>=3?new t(i,n,r):l>=2?new t(i,n):l>=1?new t(i):new t;return c.constructor=e,c}return t.apply(this,arguments)}function i(t,e){var i=e>1?1:0;return s[e]+Math.floor((t-1969+i)/4)-Math.floor((t-1901+i)/100)+Math.floor((t-1601+i)/400)+365*(t-1970)}function n(e){return Number(new t(1970,0,1,0,0,0,e))}var r=new RegExp("^(\\d{4}|[+-]\\d{6})(?:-(\\d{2})(?:-(\\d{2})(?:T(\\d{2}):(\\d{2})(?::(\\d{2})(?:(\\.\\d{1,}))?)?(Z|(?:([-+])(\\d{2}):(\\d{2})))?)?)?)?$"),s=[0,31,59,90,120,151,181,212,243,273,304,334,365];for(var o in t)e[o]=t[o];return e.now=t.now,e.UTC=t.UTC,e.prototype=t.prototype,e.prototype.constructor=e,e.parse=function(e){var s=r.exec(e);if(s){var o,a=Number(s[1]),h=Number(s[2]||1)-1,l=Number(s[3]||1)-1,c=Number(s[4]||0),u=Number(s[5]||0),d=Number(s[6]||0),f=Math.floor(1e3*Number(s[7]||0)),p=Boolean(s[4]&&!s[8]),g="-"===s[9]?1:-1,m=Number(s[10]||0),v=Number(s[11]||0);return(u>0||d>0||f>0?24:25)>c&&60>u&&60>d&&1e3>f&&h>-1&&12>h&&24>m&&60>v&&l>-1&&l<i(a,h+1)-i(a,h)&&(o=60*(24*(i(a,h)+l)+c+m*g),o=1e3*(60*(o+u+v*g)+d)+f,p&&(o=n(o)),o>=-864e13&&864e13>=o)?o:0/0}return t.parse.apply(this,arguments)},e}(Date),Date.now||(Date.now=function(){return(new Date).getTime()}),Number.prototype.toFixed&&"0.000"===8e-5.toFixed(3)&&"0"!==.9.toFixed(0)&&"1.25"===1.255.toFixed(2)&&"1000000000000000128"===0xde0b6b3a7640080.toFixed(0)||!function(){function t(t,e){for(var i=-1;++i<o;)e+=t*a[i],a[i]=e%s,e=Math.floor(e/s)}function e(t){for(var e=o,i=0;--e>=0;)i+=a[e],a[e]=Math.floor(i/t),i=i%t*s}function i(){for(var t=o,e="";--t>=0;)if(""!==e||0===t||0!==a[t]){var i=String(a[t]);""===e?e=i:e+="0000000".slice(0,7-i.length)+i}return e}function n(t,e,i){return 0===e?i:e%2===1?n(t,e-1,i*t):n(t*t,e/2,i)}function r(t){for(var e=0;t>=4096;)e+=12,t/=4096;for(;t>=2;)e+=1,t/=2;return e}var s,o,a;s=1e7,o=6,a=[0,0,0,0,0,0],Number.prototype.toFixed=function(s){var o,a,h,l,c,u,d,f;if(o=Number(s),o=o!==o?0:Math.floor(o),0>o||o>20)throw new RangeError("Number.toFixed called with invalid number of decimals");if(a=Number(this),a!==a)return"NaN";if(-1e21>=a||a>=1e21)return String(a);if(h="",0>a&&(h="-",a=-a),l="0",a>1e-21)if(c=r(a*n(2,69,1))-69,u=0>c?a*n(2,-c,1):a/n(2,c,1),u*=4503599627370496,c=52-c,c>0){for(t(0,u),d=o;d>=7;)t(1e7,0),d-=7;for(t(n(10,d,1),0),d=c-1;d>=23;)e(1<<23),d-=23;e(1<<d),t(1,1),e(2),l=i()}else t(0,u),t(1<<-c,0),l=i()+"0.00000000000000000000".slice(2,2+o);return o>0?(f=l.length,l=o>=f?h+"0.0000000000000000000".slice(0,o-f+2)+l:h+l.slice(0,f-o)+"."+l.slice(f-o)):l=h+l,l}}();var T=String.prototype.split;if(2!=="ab".split(/(?:ab)*/).length||4!==".".split(/(.?)(.?)/).length||"t"==="tesst".split(/(s)*/)[1]||"".split(/.?/).length||".".split(/()()/).length>1?!function(){var t=void 0===/()??/.exec("")[1];String.prototype.split=function(e,i){var n=this;if(void 0===e&&0===i)return[];if("[object RegExp]"!==Object.prototype.toString.call(e))return T.apply(this,arguments);var r,s,o,a,h=[],l=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.extended?"x":"")+(e.sticky?"y":""),c=0,e=new RegExp(e.source,l+"g");for(n+="",t||(r=new RegExp("^"+e.source+"$(?!\\s)",l)),i=void 0===i?-1>>>0:i>>>0;(s=e.exec(n))&&(o=s.index+s[0].length,!(o>c&&(h.push(n.slice(c,s.index)),!t&&s.length>1&&s[0].replace(r,function(){for(var t=1;t<arguments.length-2;t++)void 0===arguments[t]&&(s[t]=void 0)}),s.length>1&&s.index<n.length&&Array.prototype.push.apply(h,s.slice(1)),a=s[0].length,c=o,h.length>=i)));)e.lastIndex===s.index&&e.lastIndex++;return c===n.length?(a||!e.test(""))&&h.push(""):h.push(n.slice(c)),h.length>i?h.slice(0,i):h}}():"0".split(void 0,0).length&&(String.prototype.split=function(t,e){return void 0===t&&0===e?[]:T.apply(this,arguments)}),"".substr&&"b"!=="0b".substr(-1)){var M=String.prototype.substr;String.prototype.substr=function(t,e){return M.call(this,0>t?(t=this.length+t)<0?0:t:t,e)}}var A="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||A.trim()){A="["+A+"]";var P=new RegExp("^"+A+A+"*"),j=new RegExp(A+A+"*$");String.prototype.trim=function(){if(void 0===this||null===this)throw new TypeError("can't convert "+this+" to object");return String(this).replace(P,"").replace(j,"")}}(8!==parseInt(A+"08")||22!==parseInt(A+"0x16"))&&(parseInt=function(t){var e=/^0[xX]/;return function(i,n){return i=String(i).trim(),+n||(n=e.test(i)?16:10),t(i,n)}}(parseInt));var q=function(t){if(null==t)throw new TypeError("can't convert "+t+" to object");return Object(t)}}),define("simple",["require","jquery","../lib/es5-shim"],function(t){var e=t("jquery");return t("../lib/es5-shim"),"undefined"==typeof Simple&&(window.Simple={}),e.extend(Simple,{namespace:function(){for(var t,e,i,n=arguments,r=this,s=0;s<n.length;s++)if(i=n[s],i.indexOf("."))for(e=i.split("."),t="Simple"==e[0]?1:0;t<e.length;t++)r[e[t]]=r[e[t]]||{},r=r[e[t]];else r[i]=r[i]||{};return r},extend:function(t,e){var i,n=function(){};return n.prototype=e.prototype,i=t.prototype=new n,t.prototype.constructor=t,t.superclass=e.prototype,t},assert:function(t,e){if(t)throw new Error(e)},getCoordinates:function(t){var i;if(t=e(t),t.length<1)return{};var n=t.offset(),r=t.outerWidth()+n.left,s=t.outerHeight()+n.top;return i=e.extend({right:r,bottom:s},n)},getOuterDimensions:function(t){return t=e(t),t.is("body")?this.getClient():{width:t.outerWidth(),height:t.outerHeight()}},getScroll:function(){return{left:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),top:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}},getDoc:function(){return{width:Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight),height:Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth)}},getClient:function(){return{height:document.documentElement.clientHeight,width:document.documentElement.clientWidth}},replace:function(t,e,i){return t.replace(/\{\{([^\s\:\}]+)(?:\:([^\s\:\}]+))?\}\}/g,function(t,n){var r=e[n];return i(r,n).toString()})},bridgeTojQuery:function(t,i){var n=t.split(",");e.each(n,function(t,n){e.fn[n]=function(t){return this.each(function(){if("destroy"==t)return e.data(this,"widget-"+n)?(e.data(this,"widget-"+n).destroy(),void e(this).removeData("widget-"+n)):!0;if(t=t||{},t=e.extend(t,{node:this}),!e.data(this,"widget-"+n)){var r=new i(t);e.data(this,"widget-"+n,r)}})}})}}),Simple}),define("declare",["require","jquery","./simple"],function(t){var e=t("jquery"),i=t("./simple"),n=function(t){var i={},n=[];return e.each(t,function(t,e){i[e]||(n.push(e),i[e]=e)}),i=null,n},r=function(t){var e,n,r,s=t.lastIndexOf(".");return-1!=s?(r=t.substring(0,s),n=i.namespace(r),e=t.substring(s+1,t.length)):(e=t,n=i),{clsName:e,namespace:n}},s=function(t,s,o){var a,h=arguments;i.assert(h.length<1,"请至少指定一个变量作为[declare]接收的参数！"),1==h.length?(o=t,s=null,t=null):2==h.length&&("string"==typeof t?(o=s,s=null):(o=s,s=t,t=null));var l=function(t){e.extend(this,t);var i=l._meta.base;if(i.length)for(var n=i.length-1;n>=0;n--)i[n].apply(this,arguments)};if(t&&(a=r(t),a.namespace[a.clsName]=l),l._meta={base:[o.init||function(){}],parents:[],superclass:{}},s){s instanceof Array||(s=[s]),i.extend(l,s[0]);for(var c=s.length-1;c>=0;c--)s[c]._meta.base.length&&e.each(s[c]._meta.base,function(t,e){l._meta.base.push(e)}),l._meta.parents.push(s[c].prototype.init);l._meta.base=n(l._meta.base);for(var c=0;c<s.length;c++)e.extend(l._meta.superclass,s[c].prototype),e.extend(l.prototype,s[c].prototype)}return e.each(o,function(t,i){"events"===t?l.prototype.events=e.extend(!0,{},l.prototype.events,i):l.prototype[t]=i,"function"==typeof i&&(l.prototype[t]=function(){var e=function(){return s[0].prototype[t].apply(this,arguments)},n=function(e){return s[0].prototype[t].apply(this,e)};return function(){var t,r=this.inherit,s=this.inheritApply;return this.inherit=e,this.inheritApply=n,t=i.apply(this,arguments),this.inherit=r,this.inheritApply=s,t}}())}),l.prototype.constructor=l,l};return i.declare=s,s}),define("events",["require","./declare","./simple"],function(t){function e(t,e,i,n){var r,s=t[e],a="around"==e;if(a){var h=i(function(){return s.advice(this,arguments)});r={remove:function(){h&&(h=t=i=null)},advice:function(t,e){return h?h.apply(t,e):s.advice(t,e)}}}else r={remove:function(){if(r.advice){var n=r.previous,s=r.next;s||n?(n?n.next=s:t[e]=s,s&&(s.previous=n)):delete t[e],t=i=r.advice=null}},id:o++,advice:i,receiveArguments:n};if(s&&!a)if("after"==e){for(;s.next&&(s=s.next););s.next=r,r.previous=s}else"before"==e&&(t[e]=r,r.next=s,s.previous=r);else t[e]=r;return r}function i(t){return function(i,r,s,a){var h,l=i[r];l&&l.target==i||(i[r]=h=function(){for(var t=o,e=arguments,i=h.before;i;)e=i.advice.apply(this,e)||e,i=i.next;if(h.around)var r=h.around.advice(this,e);for(var s=h.after;s&&s.id<t;){if(s.receiveArguments){var a=s.advice.apply(this,e);r=a===n?r:a}else r=s.advice.call(this,r,e);s=s.next}return r},l&&(h.around={advice:function(t,e){return l.apply(t,e)}}),h.target=i);var c=e(h||l,t,s,a);return s=null,c}}var n,r=t("./declare"),s=t("./simple"),o=0,a={before:i("before"),around:i("around"),after:i("after")};s.aspect=a;var h=0,l="_",c=new RegExp("^"+l+"+"),u=".",d=function(t){var e=++h+"";return t?t+e:e},f=r("Event",{init:function(){this._events={}},on:function(t,e,i){var n,r,s,o,a;for(this._events=this._events||{},t=t.split(/\s+/);s=t.shift();)if(n=s,s=s.split(u),"function"==typeof e)for(r=d(l),o=this._events;"undefined"!=typeof(a=s.shift());)a=a.replace(c,""),a&&(o[a]=o[a]||{},o[a][r]={_by:n,fn:e,ctx:i||this},o=o[a]);return this},off:function(t,e){var i,n,r,s,o,a,h={};if(!t)return this._events={},this;for(this._events=this._events||{},t=t.split(/\s+/);i=t.shift();){s=i,i=i.split(u),n=this._events,head=n[i.shift()];for(o in head)head.hasOwnProperty(o)&&o.match(c)&&("function"==typeof e?head[o].fn===e&&0===head[o]._by.indexOf(s)&&(h[o]=head[o]._by.split(u)):0===head[o]._by.indexOf(s)&&(h[o]=head[o]._by.split(u)));for(o in h)if(h.hasOwnProperty(o)){for(n=this._events,a=h[o].pop();r=h[o].shift();)n[r]&&delete n[r][o],n=n[r];n&&delete n[a]}}return this},trigger:function(t){var e,i,n,r,s,o=[].slice.call(arguments,1);for(this._events=this._events||{},t=t.split(/\s+/);i=t.shift();){for(e=i,i=i.split(u),n=this._events;"undefined"!=typeof(r=i.shift());)n=n&&n[r];for(s in n)n.hasOwnProperty(s)&&s.match(c)&&n[s].fn.apply(n[s].ctx,o.concat({type:e,currentType:n[s]._by}))}return this},after:function(t,e){return a.after(this,t,e)},before:function(t,e){return a.before(this,t,e)},around:function(t,e){return a.around(this,t,e)}});return f}),define("attribute",["require","./events","./declare","jquery"],function(t){var e=t("./events"),i=t("./declare"),n=t("jquery"),r=function(t){return t.charAt(0).toUpperCase()+t.substr(1)};return i("Attribute",e,{get:function(t){var e="_getter"+r(t);return"function"==typeof this[e]?this[e](this[t]):this[t]},set:function(t,e,i){if("object"==typeof t)return n.each(t,function(e){this.set(e,t[e],i)}.bind(this)),this;var s,o="_setter"+r(t),a=Array.prototype.slice.call(arguments,1),i=i||{},h=this.get(t),l=function(){var e=this.get(t);(i.forceEvent||h!==e&&!i.disableEvent)&&(this.trigger("attrchange",t,e,h),this.trigger(t+"Change",e,h))}.bind(this);return"function"==typeof this[o]?s=this[o].apply(this,a):this[t]=e,s?n.when(s,l):l(),this},_bindAttrChange:function(){this.on("attrchange",function(t,e,i){var n=this["_uiSet"+r(t)];"function"==typeof n&&n.apply(this,[e,i])})}})}),define("_container",["require","./declare"],function(t){var e=t("./declare");return e("_Container",{childs:[],init:function(){this._childsInc=this._childsInc||[],this._virtualChildsInc=this._virtualChildsInc||[],this._childsIncByKey=this._childsIncByKey||{}},renderChilds:function(){var t=this.get("childs");t.forEach(function(t){var e=t.ctor;t.container=t.placeHolderContainer?this.el.find(t.placeHolderContainer):this.el;var i=new e(t);this.addChild(i,!1)}.bind(this))},addChild:function(t,e){return"undefined"==typeof e&&(e=!0),t._parent=this,e&&t.el&&this.el.append(t.el),this._childsIncByKey[t.get("id")]||(this._childsIncByKey[t.get("id")]=t,this._childsInc.push(t)),this},removeChild:function(t){var e;return this.getChildren().forEach(function(i,n){i.get("id")==t&&(e=n)}),this.getChildren().splice(index,1),delete this._childsIncByKey[t],this},getChildren:function(t){return t?this._childsIncByKey[t]:this._childsInc},getParent:function(t,e){if(t){var i=this._parent;if(e)for(;i&&i.get("id")!==t;)i=i._parent;else for(;i&&-1===i.get("id").indexOf(t);)i=i._parent;return i}return this._parent},getNext:function(){var t,e,i=this.getParent(),n=this;return i?(t=i.getChildren(),t.forEach(function(t,i){return t===n?(e=i,!1):void 0}),null!=e?t[e+1]?t[e+1]:!1:!1):!1},getPrev:function(){var t,e,i=this.getParent(),n=this;return i?(t=i.getChildren(),t.forEach(function(t,i){return t===n?(e=i,!1):void 0}),null!=e?t[e-1]?t[e-1]:!1:!1):!1},root:function(){for(var t=this._parent;t&&t._parent;)t=t._parent;return t}})}),define("widget",["require","jquery","./attribute","./declare","./_container"],function(t){var e,i=t("jquery"),n=t("./attribute"),r=t("./declare"),s=t("./_container"),o=0,a=function(){return"widget-"+o++};return e=r("Widget",[n,s],{name:"Widget",id:"",node:"",container:"",className:"",containerClass:"",tagName:"div",template:"",events:null,style:"",attr:"",init:function(){this.node=this.get("node"),this.container=this.get("container"),this.get("id")||this.set("id",a()),this.initAttrs(),this.initBaseEvents(),this._deferred=i.Deferred(),this._bindAttrChange(),this.container&&this.render()},_getterNode:function(t){return i(t)},_getterContainer:function(t){return t?i(t).addClass(this.get("containerClass")):null},_autoBuildContainer:function(){var t=i("<"+this.get("tagName")+">");t.addClass(this.get("containerClass")),t.appendTo(document.body),this._autoContainer=!0,this.set("container",t)},initAttrs:i.noop,initBaseEvents:i.noop,render:function(t){return this._rendered||(t?this.set("container",i(t)):this.get("container")||this._autoBuildContainer(),this.createElement(),this.buildRender(),this._linkPropFromElement(),this._linkAttrToElement(),this._renderUI(),this.renderUI(),this._delegateEvents(),this._bindUI(),this.bindUI(),this.el.removeClass("sui-hidden"),this._rendered=!0),this},isRender:function(){return!!this._rendered},createElement:function(){var t=this.get("template");this.el=t?i(this.get("template")):this.container},buildRender:function(){var t,e=this.get("attr").split(/\s*,\s*/);for(this.el.length>1&&(this.el=this.el.eq(0)),this.el.attr("id",this.get("id")).attr("role",this.get("name").toLowerCase()),this.el.addClass(this.get("className")+" sui-hidden"),this.el.css(this.get("style"));t=e.shift();)t=t.split(/\s*=\s*/),t&&t[0]&&this.el.attr(t[0],t[1]||"");this.container.append(this.el)},_linkAttrToElement:function(){i.each(this,function(t){var e=this["_uiSet"+t.charAt(0).toUpperCase()+t.substr(1)];"_"!=t.charAt(0)&&"function"==typeof e&&e.call(this,this.get(t))}.bind(this))},_linkPropFromElement:function(){this._widgetRoles=this.el.find("[data-role]").andSelf(),i.each(this._widgetRoles,function(t,e){var n=e.getAttribute("data-role");n&&(this[n]=i(e))}.bind(this))},_renderUI:function(){},renderUI:function(){},_bindUI:function(){},bindUI:function(){},unbindUI:function(){},disable:function(){this.set("disabled",!0)},enable:function(){this.set("disabled",!1)},focus:function(){this.set("focusAttr",!0)},blur:function(){this.set("focusAttr",!1)},_uiSetDisabled:function(t){t?(this.el.addClass("sui-state-disabled"),this.el.attr({"aria-disabled":!0,disabled:!0})):(this.el.removeClass("sui-state-disabled"),this.el.removeAttr("aria-disabled").removeAttr("disabled"))},_uiSetFocusAttr:function(t){this.get("disabled")||(t&&this.focusNode?this.focusNode.addClass("sui-state-focus"):this.focusNode.removeClass("sui-state-focus"))},show:function(){return this.isRender()||this.render(document.body),this.el.show(),setTimeout(function(){this.el.addClass("sui-transition")}.bind(this),0),this.set("visible",!0),this},hide:function(){return this.isRender()&&(this.el.removeClass("sui-transition"),setTimeout(function(){this.el.hide()}.bind(this),300),this.set("visible",!1)),this},_delegateEvents:function(){var t=this.get("events");for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[t[e]]),n){var r=e.match(/^(\S+)\s*(.*)$/),s=r[1],o=r[2];n=this.proxy(n),s+=".delegateEvent"+this.name,""===o?this.el.on(s,n):this.el.on(s,o,n)}}return this},proxy:function(t){return"string"==typeof t?i.proxy(this[t],this):i.proxy(t,this)},destroy:function(){this.trigger=null,this.el&&this.el.undelegate().remove(),this._autoContainer&&this.get("container").remove(),this.el=this.container=null,this.off()}})}),define("position",["require","./declare","./attribute","jquery","./simple"],function(e){var i=e("./declare"),n=e("./attribute"),r=e("jquery"),s=e("./simple");return i("Position",n,{offsetX:0,offsetY:0,position:"lt lb",target:null,reference:document.body,init:function(){this.on("attrchange",this.setPosition)},_getReferencePosition:function(){var t,e=this.get("reference")[0],i=this.get("target")[0],n=s.getOuterDimensions(e);return e.offsetParent===i.offsetParent?(n.left=e.offsetLeft,n.top=e.offsetTop):(t=r(e).offset(),n.left=t.left,n.top=t.top),n},_getTargetPosition:function(){return s.getOuterDimensions(this.get("target")[0])},_getterReference:function(t){return r(t)},_getterTarget:function(t){return r(t)},setPosition:function(e){e=e||{};var i=e.position||this.get("position"),n=e.offsetX||this.get("offsetX"),r=e.offsetY||this.get("offsetY"),s=this._getReferencePosition(),o=this._getTargetPosition(),a=o.width,h=o.height,c=s.width,u=s.height;if("string"==typeof i)switch(i){case"cc cc":l=s.left+(c-a)/2,t=s.top+(u-h)/2;break;case"lt lb":l=s.left,t=s.top+u;break;case"lb lt":l=s.left,t=s.top-h;break;case"rt rb":l=c+s.left-a,t=u+s.top;break;case"rb rt":l=c+s.left-a,t=s.top-h;break;case"lt rt":l=c+s.left,t=s.top;break;case"lc lc":l=s.left,t=s.top+(u-h)/2;break;case"lt lt":l=s.left,t=s.top}return l+=n,t+=r,this.get("target").css({left:l,top:t}),this}})}),define("auto-complete",["require","jquery","./declare","./widget","./position"],function(t){var e,i=t("jquery"),n=t("./declare"),r=t("./widget"),s=t("./position"),o="sui-state-hover",a="sui-state-selected",h=Simple;return e=n("AutoComplete",r,{name:"AutoComplete",node:"",template:'<div class="sui-autocomplete sui-popup"><div data-role="autoCompleteList"></div></div>',source:"",delay:200,loadingClass:"sui-autocomplete-loading",events:{"mouseover [rel=autocompleteItem]":"_onItemMouseOver","mouseout [rel=autocompleteItem]":"_onItemMouseOut","click [rel=autocompleteItem]":"_onItemClick"},initAttrs:function(){this.get("source")instanceof Array&&(this._localSource=!0),this._cacheData={}},initBaseEvents:function(){this.node.is("input")&&this.node.on("keyup.autocomplete",this._onNodeKeyDown.bind(this)).on("click",function(){return!1}).attr("autocomplete","off"),i(document).on("click",this.hide.bind(this))},_renderUI:function(){this._position=new s({target:this.el,reference:this.node})},_onItemMouseOver:function(t){var e=i(t.currentTarget);e.addClass(o).siblings().removeClass(o)},_onItemMouseOut:function(t){var e=i(t.currentTarget);e.removeClass(o)},_onItemClick:function(t){var e=i(t.currentTarget);return this.selectItem(e),this.trigger("select",this.lastSelectedItem),this.finish(),!1},_onNodeKeyDown:function(t){switch(this._lastKeyDown=t.keyCode,this._lastKeyDown){case 38:this.active&&this._prev();break;case 40:this.active?this._next():this.activeAutoComplete();break;case 9:case 13:this.active&&this.selectCurrent();break;case 27:this.active&&this.finish();break;default:this.activeAutoComplete()}},activeAutoComplete:function(){var t=this;this._activeTimeout&&clearTimeout(this._activeTimeout),this.delay&&!this._localSource?this._activeTimeout=setTimeout(function(){t._activeNow()},this.delay):this._activeNow()},_activeNow:function(){var t=i.trim(this.node.val());return t.length?void(t&&(this._lastProcessVal=t,this._fetch(t))):(this.finish(),void(this._lastProcessVal=null))},_fetch:function(t){var e,n=this.get("source");if(this._cacheData[t])return this.set("currentData",this._cacheData[t]),void(this.active=!0);if(this._localSource)n.length&&(e=this._filter(n,t),this.parse(e));else{this.node.addClass(this.get("loadingClass"));var r={},s=this.node.attr("name");r[s]=t,n.name&&n.name.indexOf("Store")>-1?n.find(r,{strict:!1}).then(function(t){this.parse(t)}.bind(this)):"string"==typeof n?i.get(n,r).then(function(t){this.parse(t)}.bind(this)):"function"==typeof n&&n(t,function(t){this.parse(t)}.bind(this))}},parse:function(t){var e=this.getData(t),i=this.getDataLength(e);i?(this.active=!0,this.set("currentData",e),this._setCacheData(this._lastProcessVal,e)):this.finish(),this.node.removeClass(this.get("loadingClass"))},getData:function(t){return t},getDataLength:function(t){return t.length},_filter:function(t,e){var n=[];return i.each(t,function(t,i){var r=new RegExp(e,"gi");i.label?(r.test(i.label)||r.test(i.value))&&n.push(i):r.test(i)&&n.push(i)}),n},finish:function(){this.active=!1,this.currentIndex=null,this.hide()},formatGroup:function(t,e){e.forEach&&e.forEach(function(e,i){this.autoCompleteList.append(this.formatItem(t,e,i))}.bind(this))},formatItem:function(t,e){var n;return n=i.isPlainObject(e)?e.label?e.label.replace(new RegExp(this._lastProcessVal,"g"),"<b class='sui-autocomplete-item-hl'>"+this._lastProcessVal+"</b>"):"":e.replace(new RegExp(this._lastProcessVal,"g"),"<b class='sui-autocomplete-item-hl'>"+this._lastProcessVal+"</b>"),i('<div class="sui-autocomplete-item" rel="autocompleteItem">'+n+"</div>").data("item",e)},_setterCurrentData:function(t){this.show(),this.autoCompleteList.empty();var e=this.formatGroup(this._lastProcessVal,t);e&&this.autoCompleteList.append(e),this._position.setPosition(),this.currentData=t},_setCacheData:function(t,e){this._cacheData.length&&this._cacheData.length>10&&(this._cacheData={},this._cacheData.length=0),this._cacheData[t]=e,this._cacheData.length++},_next:function(){this.focus(1)},_prev:function(){this.focus(-1)},focus:function(t){t=null==this.currentIndex||"undefined"==typeof this.currentIndex?this.currentIndex=0:this.currentIndex+t,this.selectItem(t)},selectItem:function(t){var e,n,r;if(t instanceof i)e=t;else{var s=this.el.find('[rel="autocompleteItem"]');t=0>t?s.length-1:t,t=t==s.length?0:t,this.currentIndex=t,s.removeClass(a),e=s.eq(t),e.addClass(a)}r=this.currentData[t]||e.data("item"),n=this.getValue(r,e),this.node.val(n),this.lastSelectedItem=r,this.lastSelectedValue!=n&&(this.trigger("change",this.lastSelectedItem),this.lastSelectedValue=n)},getValue:function(t){return t.value||t.label||t[this.node.attr("name")]||t},selectCurrent:function(){this.selectItem(this.currentIndex),this.trigger("select",this.lastSelectedItem),this.finish()},destroy:function(){this.currentIndex=null,this._cacheData=null,this.inherit(arguments)}}),h.bridgeTojQuery("autocomplete",e),e}),define("button",["require","jquery","./declare","./widget"],function(t){var e=t("jquery"),i=t("./declare"),n=t("./widget"),r=i("Button",n,{className:"sui-button-normal",name:"Button",focus:!1,label:"sui button",icon:!1,handle:e.noop,disabled:!1,containerClass:"sui-button-group",template:'<div class="sui-button"  tabindex="0"><i data-role="iconElement"></i><span data-role="labelElement"></span></div>',bindUI:function(){this.el.on("click",this._onclick.bind(this))},_onclick:function(t){return/disable/.test(t.currentTarget.className)?!1:void this.handle.call(this,t)},_uiSetLabel:function(t){t?this.labelElement.text(t).show():this.labelElement.hide()},_uiSetIcon:function(t){this.iconElement&&t&&this.iconElement.removeClass().addClass("sui-icon "+t)},destroy:function(){this.el.off(),this.inherit(arguments)}});return r}),define("button-group",["require","jquery","./declare","./widget"],function(t){var e=(t("jquery"),t("./declare")),i=t("./widget"),n=e("ButtonGroup",i,{name:"ButtonGroup",childs:[],template:'<div class="sui-button-group"></div>',renderUI:function(){this.renderChilds();var t=this.getChildren();return t.length<2?!1:void t.forEach(function(e,i){0===i&&e.el.addClass("sui-button-first"),i===t.length-1&&e.el.addClass("sui-button-last")})},enable:function(t){var e=this.getChildren()[t];e.enable()},disable:function(t){var e=this.getChildren()[t];e.disable()},focus:function(t){var e=this.getChildren()[t];
e.focus(),this._currentFocus=focus},getFocus:function(){return this._currentFocus}});return n}),define("combo-button",["require","jquery","./declare","./button"],function(t){var e=(t("jquery"),t("./declare")),i=t("./button"),n=e("ComboButton",i,{name:"ComboButton",dropdown:null,template:'<div class="sui-combo-button"  tabindex="0">            <i data-role="iconElement"></i>            <span data-role="labelElement" class="sui-button-content"></span>            <span data-role="dropdownElement" class="sui-dropdown-arrow"><i class="sui-icon sui-icon-arrow-bottom"></i></span>        </div>',bindUI:function(){this.labelElement.on("click",this._onclick.bind(this)),this.dropdownElement.on("click",this._dropdownClick.bind(this))},_dropdownClick:function(t){return t.stopPropagation(),/disable/.test(t.currentTarget.className)?!1:void(this.dropdown&&(this.dropdown._parent=this._parent,this.dropdown.showAt(this.el),this.trigger("dropdownshow")))},destroy:function(){this.labelElement.off(),this.dropdownElement.off(),this.inherit(arguments)}});return n}),define("modal",["require","jquery","./declare","./widget"],function(t){var e,i=t("jquery"),n=t("./declare"),r=t("./widget"),s=function(t,e){return t=i(t),t.is("body")?e?o():a():{h:t.outerHeight(),w:t.outerWidth()}},o=function(){return{h:Math.max(document.documentElement.scrollHeight,document.documentElement.clientHeight),w:Math.max(document.documentElement.scrollWidth,document.documentElement.clientWidth)}},a=function(){return{h:document.documentElement.clientHeight,w:document.documentElement.clientWidth}};return e=n("Modal",r,{name:"Modal",container:document.body,template:'<div class="sui-modal"></div>',node:null,renderUI:function(){"static"===this.container.css("position")&&this.container.css("position","relative"),this.setPosition()},bindUI:function(){i(window).bind("resize.modal",this.proxy("setPosition"))},setPosition:function(){var t=this.node.offset(),e=this.container.offset(),i=s(this.node,!0);this.el.css({top:t.top-e.top,left:t.left-e.left,width:i.w,height:i.h})},show:function(){this.inherit(arguments),this.setPosition()},destroy:function(){this.inherit(arguments),i(window).unbind("resize.modal")}})}),define("drag",["require","jquery","./declare","./attribute"],function(t){var e,i=t("jquery"),n=t("./declare"),r=t("./attribute");i.fn.unselect=function(t){return t=null==t?!0:t,this.each(t?function(){i(this).attr("unselectable","on").css("user-select","none").on("selectstart",!1)}:function(){i(this).removeAttr("unselectable","on").css("user-select","inherit").off("selectstart")})};var s=function(t){var e,n,r,s,o,a=t.css("position"),h=t.offset();if("static"==a)t.css("position","relative"),e=0,n=0;else if("absolute"==a){var l=t[0],c=l.offsetParent;r=i(c).offset(),e=h.top-r.top,n=h.left-r.left}else"fixed"==a?(e=parseInt(t.css("top"),10),n=parseInt(t.css("left"),10),isNaN(e)&&(e=h.top-Math.max(document.documentElement.scrollTop,document.body.scrollTop)),isNaN(n)&&(n=h.left)):"relative"==a&&(e=parseFloat(t.css("top")),n=parseFloat(t.css("left")),s=parseFloat(t.css("right")),o=parseFloat(t.css("bottom")),isNaN(e)&&(e=isNaN(o)?0:-o),isNaN(n)&&(n=isNaN(s)?0:-s));return{left:n,top:e}},o=function(t){var e;if(t=i(t),!(t.length<1)){var n=t.offset(),r=t.outerWidth()+n.left,s=t.outerHeight()+n.top;return e=i.extend({right:r,bottom:s},n)}},a=function(){return{x:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),y:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}};return e=n("Drag",r,{node:null,handle:null,container:document.body,proxy:null,delay:0,atCursor:null,iframeFix:!1,direction:"both",grid:!1,revert:!1,dropElements:!1,init:function(){if(!this.node)return!1;this.node=i(this.node),this.currentPosition=this.node.css("position");var t,e=this;this.dropElements=i(this.dropElements),t=this.get("handle"),t.on("mousedown.drag",function(t){return"input"===t.target.tagName.toLowerCase()?!1:(e._movestart.apply(e,[t]),void i(document.body).unselect(!0))})},destroy:function(){this.get("handle").off("mousedown.drag")},_movestart:function(t){t.stopPropagation();var e=this.node;return this.lastX=t.pageX,this.lastY=t.pageY,this.lastNodeX=s(e).left,this.lastNodeY=s(e).top,this.offset=e.offset(),this.nodeWidth=e.outerWidth(),this.nodeHeight=e.outerHeight(),this.trigger("dragStart",{event:t,context:this})===!1?!1:(i(document).mousemove(i.proxy(this._moving,this)),i(document).mouseup(i.proxy(this._movestop,this)),this._setLimitRegion(),e.hasClass("draggable")||e.addClass("draggable"),void(this.overed=null))},_moving:function(t){var e,n=this.node;this.moveX=t.pageX,this.moveY=t.pageY,this.changeX=this.moveX-this.lastX,this.changeY=this.moveY-this.lastY,Math.abs(this.changeX)>this.delay&&Math.abs(this.changeY)>this.delay&&(this.draggable=!0,i(document.body).css("cursor","move"),this.grid&&(this.changeY=Math.round(this.changeY/this.grid[1])*this.grid[1],this.changeX=Math.round(this.changeX/this.grid[0])*this.grid[0]),this.dragLimitRegion&&(this.offset.left+this.changeX<this.dragLimitRegion.left&&(this.changeX=this.dragLimitRegion.left-this.offset.left),this.offset.left+this.changeX+this.nodeWidth>this.dragLimitRegion.right&&(this.changeX=this.dragLimitRegion.right-this.offset.left-this.nodeWidth),this.offset.top+this.changeY<this.dragLimitRegion.top&&(this.changeY=this.dragLimitRegion.top-this.offset.top),this.offset.top+this.changeY+this.nodeHeight>this.dragLimitRegion.bottom&&(this.changeY=this.dragLimitRegion.bottom-this.offset.top-this.nodeHeight)),this.left=this.lastNodeX+this.changeX,this.top=this.lastNodeY+this.changeY,this.proxy?(this._setProxy(),e=this.proxyEl,this.updatePosition(e,!0)):(e=n,this.updatePosition(e,!1)),this.trigger("drag",{event:t,context:this}),this.dropElements&&this.checkDroppables())},_movestop:function(t){var e;this.draggable&&this.dropElements&&this.checkDroppables(!0),this.proxy?(this.revert||(e=this.node,this.updatePosition(e)),e=this.proxyEl):e=this.node,this.revert&&this.node.animate({left:this.lastNodeX,top:this.lastNodeY}),this.trigger("dragStop",{event:t,context:this}),i(document).unbind("mousemove").unbind("mouseup"),this.draggable=!1,i(document.body).css({cursor:"default"}).unselect(!1),this.proxyEl&&(this.proxyEl.remove(),this.proxyEl=null)},_setLimitRegion:function(){var t={};if(this.container)if(this.container==document.body){var e=document.documentElement;t.left=0,t.top=0,t.right=Math.max(e.clientWidth,e.scrollWidth),t.bottom=Math.max(e.clientHeight,e.scrollHeight)}else{var n=i(this.container);t=o(n)}else t=null;this.dragLimitRegion=t},_setProxy:function(){if(!this.proxyEl){var t=this.proxy;"string"==typeof t?this.proxyEl=this.node.clone().css({position:"absolute",top:this.lastNodeY,left:this.lastNodeX}):"function"==typeof t&&(this.proxyEl=this.proxy.call(this.node),this.proxyEl.css("position","absolute")),this.proxyEl.appendTo(document.body)}},updatePosition:function(t,e){var i=this.top,n=this.left;e&&(i=this.offset.top+this.changeY,n=this.offset.left+this.changeX,this.atCursor&&(i=this.moveY+this.atCursor.top,n=this.moveX+this.atCursor.left)),t.css("both"==this.direction?{top:i,left:n}:"x"==this.direction?{left:n}:{top:i})},checkDroppables:function(t){var e=this,n=this.dropElements.filter(function(t,n){return n=i(n),e.proxy?e.isInteract(n,e.proxyEl):e.isInteract(n,e.node)}).last();this.overed!=n[0]?(this.overed&&this.trigger("dragLeave",this.overed),n[0]&&this.trigger("dragEnter",n),this.overed=n[0]):n[0]&&t&&this.trigger("drop",n)},getDroppableCoordinates:function(t){if(t){var e=o(t);if("fixed"==t.css("position")){var i=a();e.top+=i.y,e.bottom+=i.y,e.left+=i.x,e.right+=i.x}return e}},isInteract:function(t,e){var i=this.getDroppableCoordinates(t),n=this.getDroppableCoordinates(e);return i.top>n.bottom||i.bottom<n.top||i.right<n.left||i.left>n.right?!1:!0},_getterHandle:function(t){return t?this.node.find(t):this.node}})}),define("dialog",["require","jquery","./declare","./widget","./modal","./drag","./position","./button"],function(t){var e,i,n=t("jquery"),r=t("./declare"),s=t("./widget"),o=t("./modal"),a=t("./drag"),h=t("./position"),l=t("./button"),c=1e3,u=!1;e=r("Dialog",s,{container:document.body,node:null,title:"simple-dialog",className:"sui-dialog",modal:!0,buttons:!1,handleTool:["close"],maxContainer:"body",width:"",height:"",position:{position:"cc cc",reference:document.body},draggable:!0,template:'<div class="sui-dialog sui-dialog-normal">            <div class="sui-dialog-hd" data-role="dialogHead">                 <div class="sui-dialog-handle" data-role="dialogHandle"></div>                 <h2 class="sui-dialog-title" data-role="dialogTitle"></h2>            </div>            <div class="sui-dialog-bd">                <div class="sui-dialog-content" data-role="dialogContent"></div>                <div data-role="dialogFoot"></div>            </div>          </div>',stack:!1,_renderUI:function(){var t;(this.get("modal")||!this.get("modal")&&u)&&(i||(i=new o({node:document.body})),this._modalInc=i,this._modalInc.show(),u=!0),this.node.length&&(t=this.node.clone(!0),this.set("content",t))},renderUI:function(){this.dialogContent.width(this.width).height(this.height),this._position=new h(n.extend({target:this.el},this.get("position"))),this._position.setPosition(),this.draggable&&new a({node:this.el,handle:'[data-role="dialogHead"]'}),this.stack?(this.el.css("z-index",c++),this.constructor._stackDialog.length=this.constructor._stackDialog.dialog.push(this.el)):this.el.css("z-index",c),this.el.addClass("sui-transition")},_uiSetContent:function(t){this.dialogContent&&this.dialogContent.html(t)},_uiSetTitle:function(t){this.dialogTitle&&(t?this.dialogTitle.html(t):this.dialogTitle.remove())},_uiSetHandleTool:function(t){t.length&&n.each(t,n.proxy(function(t,e){var i=n("<a/>").addClass("sui-icon-font sui-dialog-"+e).attr("rel","dialog"+e);i.html("close"==e?"&#x3496;":e),self=this,i.click(function(){return self.trigger(e)===!1?!1:void("close"==e?self.hide():self[e+"Dialog"]())}),this.dialogHandle.append(i)},this))},_uiSetButtons:function(t){if(t){var e=[],i=this,r=n("<div>").addClass("sui-dialog-button-wrap");this.dialogFoot.empty().append(r),n.each(t,function(t,s){e.push(new l(n.extend(s,{container:r,_parent:i})))}),this.buttonInc=e}},bindUI:function(){this.stack&&this.dialogHead.on("mousedown",n.proxy(this.setFocus,this)),n(document).on("keyup.esc",n.proxy(this.destroy,this)),this.on("show",this.proxy(function(){n.isFunction(this.onshow)&&this.onshow.call(this,this.el)})),this.on("hide",this.proxy(function(){n.isFunction(this.onhide)&&this.onhide.call(this,this.el)}))},minDialog:n.noop,maxDialog:n.noop,hide:function(){return this.get("modal")&&this._modalInc.hide(),this.inherit(arguments),this},setFocus:function(){if(this.stack){var t=this._getMaxIndex();if(this.el.css("z-index")==t)return!1;this.el.css("z-index",t+1),this.constructor._stackDialog.focus=this.el}},getFocus:function(){return this.stack?this.constructor._stackDialog.focus:void 0},_getMaxIndex:function(){var t,e=[];return n.each(this.constructor._stackDialog.dialog,function(t,i){e.push(i.css("z-index"))}),t=Math.max.apply(this,e)},destroy:function(){this.buttoInc&&this.buttoInc.length&&n.each(this.buttonInc,function(t,e){e.destroy()}),this.stack?(this.constructor._stackDialog.length--,this.constructor._stackDialog.length||(this._modalInc&&this._modalInc.hide(),this.constructor._stackDialog.dialog=[],this.constructor._stackDialog.focus=null)):this._modalInc&&this._modalInc.hide(),this.inherit(arguments)},setPosition:function(t){this._position&&this._position.setPosition(t)}}),e._stackDialog={length:0,dialog:[],focus:null,modal:null},n.ajaxDialog=e.ajaxDialog=function(t){function i(t,e,i){var r=o[t];r?i(r):n.ajax({url:t,dataType:"html",data:e,success:function(e){o[t]=e,i(e)},error:function(){throw new Error("不能找到对应的HTML!",t)}})}var r,s,o={};return t=n.extend({url:"",data:[],onLoad:n.noop,loadingMessage:"loading..."},t),s=n.extend(t,{node:'<div class="sui-dialog-load">'+t.loadingMessage+"</div>"}),r=new e(s),r.el.addClass("sui-dialog-ajax"),i(t.url,t.data,function(e){r.set("content",e),r.setPosition(t.position||{}),t.onload.call(r)}),r};var d=0;return n.iframeDialog=e.iframeDialog=function(t){var i,r,s=d++;return t=n.extend({url:"",onload:n.noop,loadingMessage:"loading..."},t),i=n.extend(t,{node:'<iframe  class="sui-content-iframe" src="'+t.url+'" frameBorder="0" id="SimpleDialogFrame'+s+'" name="SimpleDialogFrame'+s+'"></iframe>'}),r=new e(i),window["SimpleDialogFrame"+s].onload=function(){r.dialogContent.find(".sui-dialog-load").remove(),r.dialogContent.find("iframe").fadeIn(),r.setPosition(t.position||{}),t.onload.call(this)},r},n.alertDialog=e.alertDialog=function(t){t=n.extend({},t,{node:'<div class="sui-dialog-alert"><i class="sui-icon sui-icon-alert"></i>'+t.node+"</div>",buttons:[{label:"OK",className:"sui-button-primary",handle:function(){return(t.onsure||n.noop).call(i)===!1?!1:void i.destroy()}}],title:t.title||"Alert"});var i=new e(t);return i},n.confirmDialog=e.confirmDialog=function(t){t=n.extend({},t,{node:'<div class="sui-dialog-confirm"><i class="sui-icon sui-icon-confirm"></i>'+t.node+"</div>",buttons:[{label:"OK",className:"sui-button-primary",handle:function(){return(t.onsure||n.noop).call(i)===!1?!1:void i.destroy()}},{label:"Cancel",handle:function(){return(t.oncancel||n.noop).call(i)===!1?!1:void i.destroy()}}],title:t.title||"Confirm"});var i=new e(t);return i},e}),define("support",[],function(){return{transition:function(){var t=function(){var t,e=document.createElement("div"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n={WebkitTransition:"-webkit-transform",MozTransition:"-moz-transform",OTransition:"-o-transform",transition:"transform"};for(t in i)if(void 0!==e.style[t])return{transform:n[t],attr:t,eventType:i[t]};return!1}();return t}()}}),define("popup",["require","jquery","./declare","./widget","./simple","./position","./support"],function(t){var e=t("jquery"),i=t("./declare"),n=t("./widget"),r=t("./simple"),s=t("./position"),o=(t("./support"),function(t,i){var n=parseInt(i,10)||e(t).offset().left,s=r.getScroll(),o=s.left,a=r.getClient().width,h=e(t).width();return a+o>=n+h&&n-o>=0}),a=function(t,i){var n=parseInt(i,10)||e(t).offset().top,s=r.getScroll(),o=s.top,a=r.getClient().height,h=e(t).height();return a+o>=n+h&&n-o>=0},h=i("Popup",n,{name:"Popup",className:"sui-popup",template:'<div><div data-role="contentElement"></div></div>',node:"",content:"",triggerType:"click",position:"lt lb",initBaseEvents:function(){this._bindNode()},_bindNode:function(){var t=this.get("alignNode"),e=this.get("triggerType");this.bindTrigger(this.node,t,e)},bindTrigger:function(t,i,n){if(n){t.on||(t=e(t));var r=function(t){var n,r=e(t.target);return this.currentTrigger=r,n=i.length?i:this.currentTrigger,this.showAt(n,t),!1},s=this.hide;switch(n){case"hover":var o,a;t.on("mouseenter",function(t){o=setTimeout(r.bind(this,t),200)}.bind(this)),t.on("mouseleave",function(t){o&&clearTimeout(o),a=setTimeout(s.bind(this,t),200)}.bind(this));break;case"focus":t.focus(r.bind(this)).blur(s.bind(this));break;default:t.on(n,r.bind(this))}}},bindUI:function(){this.el.on("click",function(t){t.stopPropagation(),this._hideElement&&this._hideElement()}.bind(this)),"click"==this.get("triggerType")&&(e(document).on("click",this.hide.bind(this)),e(window).on("resize",this.hide.bind(this)))},_uiSetContent:function(t){this.contentElement&&this.contentElement.html(t)},_getterContent:function(t){return"string"==typeof t?t:"function"==typeof t?t.call(this):t.html()},_getterAlignNode:function(t){return e(t)},_renderUI:function(){this._position=new s({target:this.el,reference:this.get("alignNode"),position:this.get("position"),offsetX:this.get("offsetX"),offsetY:this.get("offsetY")})},showAt:function(t){this.get("visible")&&this.el.removeClass("sui-transition"),this.show(),this._position.set("reference",t),this.fixPosition()},fixPosition:function(){this.get("position");!o(this.el),!a(this.el)},_setterPosition:function(t){this._position&&this._position.set("position",t)},_setterAlignNode:function(t){this._position&&this._position.set("reference",t)}});return h}),define("date-picker",["require","jquery","./declare","./popup"],function(t){var e=t("jquery"),i=t("./declare"),n=t("./popup"),r={},s=i("DatePicker",n,{node:null,selectDate:"",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"yy/mm/dd",events:{"click [data-role=prevYear]":"_onDateYearCtrlPrevClick","click [data-role=nextYear]":"_onDateYearCtrlNextClick","click [data-role=prevMonth]":"_onDateMonthCtrlPrevClick","click [data-role=nextMonth]":"_onDateMonthCtrlNextClick","click [data-role=dateItem]":"_onDateContentClick"},template:'<div class="sui-date-picker">            <div class="sui-date-control">                <div class="sui-date-year">                    <a class="sui-date-action sui-icon-font" data-role="prevYear" href="javascript:;">&#xf01a8;</a>                    <span class="" data-role="dateYear"></span>                    <a class="sui-date-action sui-icon-font" data-role="nextYear" href="javascript:;">&#xf01a9;</a>                </div>                <span class="sui-date-month">                    <a class="sui-date-action sui-icon-font" data-role="prevMonth" href="javascript:;">&#xf01a8;</a>                    <span class="" data-role="dateMonth"></span>                    <a class="sui-date-action sui-icon-font" data-role="nextMonth" href="javascript:;">&#xf01a9;</a>                </span>            </div>            <ul class="sui-date-week" data-role="dateWeek"><li>日</li><li>一</li><li>二</li>            <li>三</li><li>四</li><li>五</li><li>六</li>            </ul>            <ul data-role="dateContent" class="sui-date-content"></ul>            </div>',init:function(){this.after("show",function(){this.set("selectDate",this.currentTrigger.val())})},_onDateYearCtrlPrevClick:function(){return this.currentYear=this.currentYear-1,this._setDatePickerContent(this.currentYear,this.currentMonth),!1},_onDateYearCtrlNextClick:function(){return this.currentYear=this.currentYear+1,this._setDatePickerContent(this.currentYear,this.currentMonth),!1},_onDateMonthCtrlPrevClick:function(){return this.currentMonth-1<1?(this.currentMonth=12,this.currentYear=this.currentYear-1):this.currentMonth=this.currentMonth-1,this._setDatePickerContent(this.currentYear,this.currentMonth),!1},_onDateMonthCtrlNextClick:function(){return this.currentMonth+1>12?(this.currentMonth=1,this.currentYear=this.currentYear+1):this.currentMonth=this.currentMonth+1,this._setDatePickerContent(this.currentYear,this.currentMonth),!1},_getMonthTotalDay:function(t,e){return new Date(new Date(t,e,1)-864e3).getDate()},_getMonthFirstDay:function(t,e){return new Date(t,e-1,1).getDay()},_uiSetDayNamesMin:function(t){var e="";t.forEach(function(t){e+="<li>"+t+"</li>"}),this.dateWeek.html(e)},_uiSetSelectDate:function(t){var e,i,n,r;t||(t=this.formatDate(new Date,this.get("dateFormat")));try{r=this.parseDate(t,this.get("dateFormat"))}catch(s){r=new Date}e=r.getFullYear(),i=r.getMonth()+1,n=r.getDate(),this._setDatePickerContent(e,i,n)},_setDatePickerContent:function(t,e,i){var n,s,t=parseInt(t,10),e=parseInt(e,10),i=parseInt(i,10),o=this._getMonthTotalDay(t,e),a=this._getMonthFirstDay(t,e),h=(new Date).getDate(),l=(new Date).getMonth()+1,c=(new Date).getFullYear(),u="",d=t+"_"+e;if(r[d])u=r[d];else{for(var f=0;o+a>f;f++)if(a>f)u+='<li class="disabled"> &nbsp;</li>';else{var p=f-a+1,g="";n=c==t&&l==e&&p==h,s=p==i,n&&(g+='class="current'),s?g+=g.length?' sui-date-picker-selected"':'class="sui-date-picker-selected"':n&&(g+='"'),u+="<li "+g+' data-role="dateItem">'+p+"</li>"}r[d]=u}this.dateContent.html(u),this.dateYear.html(t),this.dateMonth.html(e),this.currentYear=parseInt(t,10),this.currentMonth=parseInt(e,10)},_onDateContentClick:function(t){var i=e(t.currentTarget);this.currentDay=parseInt(i.text(),10),this.currentDate=this.formatDate(new Date(this.currentYear,this.currentMonth-1,this.currentDay),this.get("dateFormat")),this.currentTrigger.val(this.currentDate),this.trigger("select",this.currentDate),this.hide()},parseDate:function(t,i,n){if(t="object"==typeof t?t.toString():t+"",""===t)return null;var r,s,o,a,h=0,l=(n?n.shortYearCutoff:null)||this.get("shortYearCutoff"),c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(n?n.dayNamesShort:null)||this.get("dayNamesShort"),d=(n?n.dayNames:null)||this.get("dayNames"),f=(n?n.monthNamesShort:null)||this.get("monthNamesShort"),p=(n?n.monthNames:null)||this.get("monthNames"),g=-1,m=-1,v=-1,y=-1,b=!1,_=function(t){var e=r+1<i.length&&i.charAt(r+1)===t;return e&&r++,e},w=function(e){var i=_(e),n="@"===e?14:"!"===e?20:"y"===e&&i?4:"o"===e?3:2,r=new RegExp("^\\d{1,"+n+"}"),s=t.substring(h).match(r);if(!s)throw"Missing number at position "+h;return h+=s[0].length,parseInt(s[0],10)},x=function(i,n,r){var s=-1,o=e.map(_(i)?r:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(e.each(o,function(e,i){var n=i[1];return t.substr(h,n.length).toLowerCase()===n.toLowerCase()?(s=i[0],h+=n.length,!1):void 0}),-1!==s)return s+1;throw"Unknown name at position "+h},C=function(){if(t.charAt(h)!==i.charAt(r))throw"Unexpected literal at position "+h;h++};for(r=0;r<i.length;r++)if(b)"'"!==i.charAt(r)||_("'")?C():b=!1;else switch(i.charAt(r)){case"d":v=w("d");break;case"D":x("D",u,d);break;case"o":y=w("o");break;case"m":m=w("m");break;case"M":m=x("M",f,p);break;case"y":g=w("y");break;case"@":a=new Date(w("@")),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"!":a=new Date((w("!")-this._ticksTo1970)/1e4),g=a.getFullYear(),m=a.getMonth()+1,v=a.getDate();break;case"'":_("'")?C():b=!0;break;default:C()}if(h<t.length&&(o=t.substr(h),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=g?0:-100)),y>-1)for(m=1,v=y;;){if(s=this._getMonthTotalDay(g,m),s>=v)break;m++,v-=s}if(a=new Date(g,m-1,v),a.getFullYear()!==g||a.getMonth()+1!==m||a.getDate()!==v)throw"Invalid date";return a},formatDate:function(t,e,i){if(!t)return"";var n,r=(i?i.dayNamesShort:null)||this.get("dayNamesShort"),s=(i?i.dayNames:null)||this.get("dayNames"),o=(i?i.monthNamesShort:null)||this.get("monthNamesShort"),a=(i?i.monthNames:null)||this.get("monthNames"),h=function(t){var i=n+1<e.length&&e.charAt(n+1)===t;return i&&n++,i},l=function(t,e,i){var n=""+e;if(h(t))for(;n.length<i;)n="0"+n;return n},c=function(t,e,i,n){return h(t)?n[e]:i[e]},u="",d=!1;if(t)for(n=0;n<e.length;n++)if(d)"'"!==e.charAt(n)||h("'")?u+=e.charAt(n):d=!1;else switch(e.charAt(n)){case"d":u+=l("d",t.getDate(),2);break;case"D":u+=c("D",t.getDay(),r,s);break;case"o":u+=l("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=l("m",t.getMonth()+1,2);break;case"M":u+=c("M",t.getMonth(),o,a);break;case"y":u+=h("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":h("'")?u+="'":d=!0;break;default:u+=e.charAt(n)}return u}});return s}),define("dropdown-button",["require","jquery","./declare","./button"],function(t){var e=(t("jquery"),t("./declare")),i=t("./button"),n=e("DropDownButton",i,{name:"DropDownButton",hasDropDownIcon:!0,dropdown:null,template:'<div class="sui-button sui-dropdown-button"  tabindex="0">                         <i data-role="iconElement"></i>                         <span data-role="labelElement"></span>                        <i data-role="dropdownElement" class="sui-arrow-bottom-bg" tabindex="0"></i>                    </div>',renderUI:function(){this.inherit(arguments),this.el.attr("aria-haspopup",!0)},_onclick:function(t){return t.stopPropagation(),/disable/.test(t.currentTarget.className)?!1:void(this.dropdown&&(this.dropdown._parent=this._parent,this.dropdown.showAt(this.el),this.trigger("dropdownshow")))},_uiSetHasDropDownIcon:function(t){t?this.dropdownElement.show():this.dropdownElement.hide()}});return n}),define("data-schema",["require","./declare"],function(t){var e=t("./declare"),i=e("DataSchema",{schema:{meta:[],listLocator:"*",fields:"*"},schemaFilter:function(t){var e,i=this.schema,n=i.meta||[],r=i.listLocator||"*",s=i.fields||"*",o=this,a={};return e="*"===r?t:this.getByPath(t,r),"string"==typeof s&&(s=[s]),"string"==typeof n&&(n=[n]),"*"!=s[0]&&(e=e.map(function(t){var e={};return s.forEach(function(i){"string"==typeof i?e[i]=t[i]:e[i.key]=t[i.locator]}),e})),a.list=e,n.forEach(function(e){"string"==typeof e?a[e]=o.getByPath(t,e):a[e.key]=o.getByPath(t,e.locator)}),a},getByPath:function(t,e){var i,n,r=e.split(".");if(r.length&&(n=r[0],n.indexOf("[")>=0?(n=n.match(/(.*)\[(.*)\]/),n&&(i=t[n[1]][n[2]])):i=t[r[0]],i))for(var s=1;s<r.length&&(i=i[r[s]],"undefined"!=typeof i);s++);return i}});return i}),define("json-store",["require","jquery","./declare","./events","./data-schema"],function(t){var e=t("jquery"),i=t("./declare"),n=t("./events"),r=t("./data-schema"),s=function(t){if(t){var i=["forEach","map","filter"];return e.each(i,function(i,n){t[n]||(t[n]=function(){var i=arguments;return e.when(t).then(function(t){return Array.prototype.unshift.call(i,t||[]),s(o[n].apply(this,i))})})}),t.then||(t=e.extend(t,e.when(t).then(function(t){return t}))),t}},o={forEach:function(t,e){for(var i=0;i<t.length&&e.call(t[i],t[i],i)!==!1;i++);},map:function(t,e){for(var i=0;i<t.length;i++){var n=e.call(t[i],t[i],i);t[i]=n}return t},filter:function(t,e){var i=[];return o.forEach(t,function(t){e(t)&&i.push(t)}),i}},a=i("JsonStore",[n,r],{name:"JsonStore",data:{},index:"id",init:function(){this.schemaData=this.schemaFilter(this.data),this.data=this.schemaData.list,this._afterDataChange(this.data)},queryEngine:function(t,i){var n,r=i.sort;if(n=this._filter(t,i),r)if("function"==typeof r)n.sort(r);else{e.isPlainObject(r)&&(r=[r]);for(var s=0;s<r.length;s++)n.sort(function(t,e){var i=t[r[s].attr],n=e[r[s].attr];return"desc"==r[s].sortBy?n>i:i>n})}return i.start&&i.limit&&(n=n.slice(i.start,i.limit)),n},_filter:function(t,i){var n=i.query,r=n;return n?("string"==typeof n?r=this[n]:e.isPlainObject(n)&&(r=function(t){for(var e in n){var r;if(r=i.strict===!1?-1==t[e].indexOf(n[e]):n[e]!=t[e])return!1}return!0}),o.filter(t,r)):t},add:function(t,e){return e=e||{},e.override=!1,this.put(t,e)},get:function(t){return t&&this.data[this._dataHash[t]]},put:function(t,e){e=e||{};var i=e[this.index]||t[this.index]||Math.random();return i in this._dataHash?e.override===!1?this.trigger("error",t):this.data[this._dataHash[i]]=t:this._dataHash[i]=this.data.push(t)-1,e.disableEvent||(e.override===!1?this.trigger("add",t):this.trigger("put",t)),i},remove:function(t,e){e=e||{},t in this._dataHash&&(this.data.splice(this._dataHash[t],1),this._afterDataChange(this.data),e.disableEvent||this.trigger("remove",this.get(t)))},find:function(t,e){var i=[];return e=e||{},e.query=t,i=this.queryEngine(this.data,e),s(i),e.disableEvent||this.trigger("change",i),i},findAll:function(){return s(this.data)},_afterDataChange:function(t){for(var e={},i=0;i<t.length;i++)e[t[i][this.index]]=i;this._dataHash=e}});return a}),define("menu",["require","jquery","./declare","./widget","./popup"],function(t){var e,i,n=t("jquery"),r=t("./declare"),s=t("./widget"),o=t("./popup");return e=r("MenuItem",s,{name:"MenuItem",tagName:"ul",label:"simple-menu",icon:"",helper:"",url:"",disabled:!1,checked:!1,handle:n.noop,template:'<li class="sui-menu-item">            <a class="sui-menu-node" data-role="menuNode"><i></i>                <span class="" data-role="menuIcon"></span>                <span data-role="menuLabel"></span> <em data-role="menuHelper"></em> </a>        </li>',bindUI:function(){this.el.on({click:n.proxy(this._onclick,this),mouseover:n.proxy(this._onmouseover,this),mouseout:n.proxy(this._onmouseout,this)})},_onclick:function(t){-1==t.currentTarget.className.indexOf("disable")&&this.handle.call(this,t)},_onmouseover:function(){this.el.addClass("sui-state-hover")},_onmouseout:function(){this.el.removeClass("sui-state-hover")},_uiSetLabel:function(t){return this.menuLabel.text(t),t},_uiSetHelper:function(t){return this.menuHelper.html(t),t},_uiSetChecked:function(t){return this.el[t?"addClass":"removeClass"]("sui-state-checked"),t},_uiSetUrl:function(t){return t&&this.menuNode.attr("href",t),t},_uiSetIcon:function(t){return t&&this.menuIcon.removeClass().addClass(t),t}}),i=r("Menu",[o],{name:"Menu",items:[],template:'<div class="sui-menu" data-role="focusNode"></div>',_hasParentMenu:!1,initAttrs:function(){this._menuItemInc=[],this._menuItemsHasChilds=[]},renderUI:function(){var t=this.get("items");this._parseItems(t)},_bindUI:function(){this._menuItemsHasChilds.forEach(function(t){var e,i;t.el.on("mouseenter",function(){e=setTimeout(function(){t.inc.showAt(t.inc.getParent().el)},200)}),t.el.on("mouseleave",function(){e&&clearTimeout(e),i=setTimeout(function(){t.inc.hide()},200)})}.bind(this))},_setterItems:function(t){this.isRender()||(this.render(document.body),this.el.hide()),this.el.empty(),this._parseItems(t)},_parseItems:function(t){if(n.isArray(t)&&t.length)if("string"==typeof t[0].title||t[0].items)this._parseItemsByGroup(t);else{if("string"!=typeof t[0].label)throw new Error("不能识别的数据格式！");this._parseItemsBySingle(t)}},_parseItemsByGroup:function(t){n.each(t,n.proxy(function(t,e){e.title&&this.el.append('<h3 class="sui-menu-title">'+e.title+"</h3>"),e.items&&e.items.length&&this._parseItemsBySingle(e.items)},this))},_parseItemsBySingle:function(t){var r=n('<ul class="sui-menu-content"/>').appendTo(this.el);n.each(t,n.proxy(function(t,s){var o=new e(n.extend(s,{container:r,_parent:this}));if(s.childs){o.menuNode.addClass("sui-menu-hassub");var a=new i({items:s.childs,container:o.el,_hasParentMenu:!0,_parent:o,position:"lt rt",offsetX:-5,style:{display:"none"}});this._menuItemsHasChilds.push({inc:a,el:o.el})}this._menuItemInc.push(o)},this))},addChild:function(t){this.isRender()||this.render(),this._parseItems(t)},getItem:function(t){return this._menuItemInc[t]},destroy:function(){this._menuItemsHasChilds.forEach(function(t){t.destroy()}),this._menuItemsHasChilds=null,this.inherit(arguments)}})}),define("pagination",["require","jquery","./widget","./declare"],function(t){var e,i=(t("jquery"),t("./widget")),n=t("./declare");return e=n("Pagination",i,{name:"Pagination",totalCount:0,pageSize:15,pageShowCount:9,currentPage:1,pageType:"default",template:'<div class="sui-pagination"></div>',initAttrs:function(){this.totalPage=Math.ceil(this.get("totalCount")/this.get("pageSize"))},bindUI:function(){this.el.on("click","a",this._onclick.bind(this))},_onclick:function(t){var e,i=t.currentTarget;return/disable/.test(i.className)?!1:(e=parseInt(i.getAttribute("data-page"),10),void(isNaN(e)||this.set("currentPage",e)))},_setterTotalCount:function(t){t&&(this.totalPage=Math.ceil(t/this.get("pageSize")),this.totalCount=t,this.set("currentPage",this.get("currentPage"),{forceEvent:!0}))},_setterPageSize:function(t){t&&(this.totalPage=Math.ceil(this.get("totalCount")/t),this.pageSize=t,this.set("currentPage",this.get("currentPage"),{forceEvent:!0}))},_uiSetCurrentPage:function(t){t=parseInt(t,10),t>this.get("totalPage")?t=this.get("totalPage"):1>t&&(t=1),this._renderPage(t,this.get("totalPage"))},_renderPage:function(t,e){if(e&&t){var i=this._getPageHtml(t,e);this.el.html(i)}else this.el.html("")},_getItemHtml:function(t){return t==this.get("currentPage")?'<span class="sui-pagination-item sui-state-current">'+t+"</span>":'<a data-page="'+t+'" class="sui-pagination-item">'+t+"</a>"
},_getPageHtml:function(t,e){var i,n,r="",s=this.get("pageShowCount"),o=s-3,a=parseInt(o/2,10);if(r+=1>=t?'<a class="sui-pagination-prev sui-state-disabled sui-pagination-item" href="javascript:void(0)">&lt;prev</a>':'<a class="sui-pagination-prev  sui-pagination-item" href="javascript:void(0)" data-page="'+(t-1)+'">&lt;prev</a>',s>=e)for(var h=1;e>=h;h++)r+=this._getItemHtml(h);else{r+=this._getItemHtml(1),i=t-a,n=t+o-a,1>=i&&(i=2,n=i+o),i>2&&(r+='<span class="sui-pagination-ellipsis">...</span>'),n>=e-1&&(n=e-1,i=e-o-1);for(var h=i;n>=h;h++)r+=this._getItemHtml(h);e-1>n&&(r+='<span class="sui-pagination-ellipsis">...</span>'),r+=this._getItemHtml(e)}return r+=t>=e?'<a class="sui-pagination-next sui-state-disabled sui-pagination-item" href="javascript:void(0)">Next &gt;</a>':'<a class="sui-pagination-next sui-pagination-item" href="javascript:void(0)" data-page="'+(t+1)+'">Next &gt;</a>',r+="</div>"}})}),define("resizable",["require","jquery","./declare","./events"],function(t){var e,i=t("jquery"),n=t("./declare"),r=t("./events");return e=n("Resizable",r,{node:"",direction:["e","se","s"],maxWidth:null,minWidth:null,minHeight:null,maxHeight:null,init:function(){if(this.node){this.node=i(this.node);var t=this.node.css("position");"static"==t&&this.node.css({position:"relative",top:0,left:0}),this._createHandle(this.node),this._triggerEvent()}},destroy:function(){this.node.find(".sui-resize").off(),this.node.find(".sui-resize").remove()},_triggerEvent:function(){var t=this;i(".sui-resize",this.node).each(function(){var e=i(this).attr("data-event");i(this).mousedown(function(n){return n.preventDefault(),i(this).trigger("resize"+e,[n,t.node]),!1})})},_createHandle:function(t){var e=this;this.direction&&i.each(this.direction,function(n,r){var s=i("<div/>").addClass("sui-resize sui-resize-"+r).attr("data-event",r);s.on("resize"+r,function(t,i,n){e._doMouseDown.apply(e,[i,n,r])}),t.append(s)})},_doMouseDown:function(t,e,n){var r=this;return this.lastX=t.pageX,this.lastY=t.pageY,this.nodeWidth=e.width(),this.nodeHeight=e.height(),this.top=this.getOffset(e).top,this.left=this.getOffset(e).left,i(document).mousemove(function(t){r._doMouseMove.apply(r,[t,e,n])}),i(document).mouseup(function(t){r._doMouseUp.apply(r,[t,e,n])}),!1},_doMouseMove:function(t,e,n){if(i(".draggable-iframeFix")[0])i(".draggable-iframeFix").show();else{var r=i("<div/>").css({width:"100%",height:"100%",position:"absolute",opacity:0,zIndex:1e4,top:0,left:0}).addClass("draggable-iframeFix");i(document.body).append(r)}var s=t.pageX,o=t.pageY;switch(changeX=s-this.lastX,changeY=o-this.lastY,n){case"n":e.css({top:this.top+changeY,height:this.nodeHeight-changeY});break;case"e":e.css({width:this.nodeWidth+changeX});break;case"s":e.css({height:this.nodeHeight+changeY});break;case"w":e.css({left:this.left+changeX,width:this.nodeWidth-changeX});break;case"ne":e.css({top:this.top+changeY,height:this.nodeHeight-changeY,width:this.nodeWidth+changeX});break;case"se":e.css({height:this.nodeHeight+changeY,width:this.nodeWidth+changeX});break;case"sw":e.css({height:this.nodeHeight+changeY,left:this.left+changeX,width:this.nodeWidth-changeX});break;case"nw":e.css({top:this.top+changeY,height:this.nodeHeight-changeY,left:this.left+changeX,width:this.nodeWidth-changeX})}},_doMouseUp:function(){i(document).unbind("mousemove").unbind("mouseup"),i(".draggable-iframeFix").hide()},getOffset:function(t){t=i(t);var e,n,r,s,o,a=t.css("position"),h=t.offset();if("static"==a)t.css("position","relative"),e=0,n=0;else if("absolute"==a){var l=t[0],c=l.offsetParent;r=i(c).offset(),e=h.top-r.top,n=h.left-r.left}else"fixed"==a?(e=parseFloat(t.css("top")),n=parseFloat(t.css("left")),isNaN(e)&&(e=h.top-Math.max(document.documentElement.scrollTop,document.body.scrollTop)),isNaN(n)&&(n=h.left)):"relative"==a&&(e=parseFloat(t.css("top")),n=parseFloat(t.css("left")),s=parseFloat(t.css("right")),o=parseFloat(t.css("bottom")),isNaN(e)&&(e=isNaN(o)?0:-o),isNaN(n)&&(n=isNaN(s)?0:-s));return{left:n,top:e}}})}),define("router",["require","jquery","./events","./declare","./attribute"],function(t){function e(t,e){for(var i,n,r=(t||"").replace("?","").split("&"),s=r.length,o={};s--;)i=r[s].split("="),n=e?i[1]:i[1],o[i[0]]="string"==typeof n?decodeURIComponent(n):n;return o}var i=t("jquery"),n=t("./events"),r=t("./declare"),s=t("./attribute"),o=window.document.documentMode,a=!o||8>=o,h="onhashchange"in window&&!a,l="pushState"in window.history,c=r(n,{init:function(){i(window).on("hashchange",i.proxy(this.change,this))},getHash:function(){return window.location.hash.substring(1)},change:function(){var t=this.getHash();this.currentHash!=t&&(this.trigger("change",t),this.currentHash=t)},navigate:function(t,e){e=e||{};var i;t=t.replace(/^#*/,""),e.disableEvent&&(this.currentHash=t),e.replace?(i=window.location.href.replace(/(javascript:|#).*$/,""),window.location.replace(i+"#"+t)):location.hash=t}}),u=r(n,{init:function(t){t=t||{},this.root=t.root||window.location.pathname,this.fullUrl=this.getFullUrl()+this.root,i(window).on("popstate",i.proxy(this.change,this))},getFullUrl:function(){var t=document.location,e=t.protocol+"//"+(t.hostname||t.host);return t.port&&(e+=":"+t.port),e},getUrl:function(){var t=this.getFullUrl(),e=this.root;return window.location.href.replace(t+e,"")},change:function(){var t=this.getUrl();this.currentUrl!=t&&(this.trigger("change",t),this.currentUrl=t)},navigate:function(t,e){e=e||{};var i=this.root+t;e.disableEvent||(this.trigger("change",t),this.currentUrl=t),e.replace?window.history.replaceState({},document.title,i):window.history.pushState({},document.title,i)}}),d=r(n,{init:function(){this.lastHash=this.getHash(),this.create(this.lastHash),setInterval(i.proxy(this.poll,this),50)},create:function(t){var e="<iframe src=\"javascript:(function(){document.open('text/html','replace');document.domain ='"+document.domain+'\';document.close();})();" tabindex="-1" />';this.iframe=i(e).hide().appendTo(document.body),this.iframe=this.iframe[0],this.lastIframeHash=t,this._updateIframeHash(t)},getHash:function(){return window.location.hash.substring(1)},getIframeHash:function(){if(!this.iframe||!this.iframe.contentWindow)return"";var t="",e=this.iframe.contentWindow.location.hash.substr(1);return t&&0===e.indexOf(t)?e.replace(t,""):e},_updateIframeHash:function(t,e){var i=this.iframe&&this.iframe.contentWindow&&this.iframe.contentWindow.document,n=i&&i.location;i&&n&&(e?n.replace("#"===t.charAt(0)?t:"#"+t):(i.open().close(),n.hash=t))},_updateHash:function(t,e){var i;e?(i=window.location.href.replace(/(javascript:|#).*$/,""),window.location.replace(i+"#"+t)):window.location.hash=t},change:function(){this.currentHash!=this.lastHash&&(this.trigger("change",this.lastHash),this.currentHash=this.lastHash)},poll:function(){var t=this.getIframeHash(),e=this.getHash();this.lastIframeHash!=t?(this._updateHash(t),this.lastIframeHash=t,this.lastHash=t,this.change()):e!=this.lastHash&&(t!=e&&this._updateIframeHash(e),this.lastHash=e,this.change())},navigate:function(t,e){e=e||{},this._updateHash(t,e.replace),e.disableEvent&&(this.currentHash=t)}}),f=r("Router",s,{routes:{},pushState:!1,root:"",init:function(){this._routes={},i.each(this.get("routes"),i.proxy(function(t,e){this.add(t,e)},this)),this.history=this.get("pushState")&&l?new u({root:this.get("root")}):h?new c:new d},start:function(){this._started||(this.history.on("change",i.proxy(this._navigate,this)),this.history.change(),this._started=!0)},navigate:function(t,e){this.history.navigate(t,e)},_navigate:function(t){var n,r,s={},o=this,a=t.match(/(.*)\?(.*)/);if(a?(n=a[1],s=e(a[2],!0)):n=t,n){var h,l={params:{},query:s},c={};i.each(this._routes,i.proxy(function(e,r){var s=n.match(r.regex);s&&s.length&&(s.shift(),i.each(r.params,function(t,e){l.params[e]=s[t]}),l.url=t,l.route=r.route,h=i.extend([],r.callback))},this)),h&&(l.next=function(t){return t?(h=[],o):(r=h.shift(),void(r&&r.call(o,l,c,l.next)))},l.next())}else this.trigger("ready")},redirect:function(t){this.history.navigate(t,{replace:!0})},add:function(t,e){if(e=this._convertRightCallback(e),this._routes[t])i.isArray(e)?this._routes[t].callback.cocat.apply(this._routes[t].callback,e):this._routes[t].callback.push(e);else{var n=this._parse(t);n.callback=i.isArray(e)?e:[e],this._routes[t]=n}},_parse:function(t){var e={route:t,regex:null,params:[],optionalParams:[]},n=t;if("[object RegExp]"!=={}.toString.call(t)){var r=n.match(/\:([a-zA-Z0-9_]+)/g);r&&(r=i.map(r,function(t){return t.substring(1)}),e.params=r,n=n.replace(/\:([a-zA-Z0-9_]+)/g,"([a-zA-Z0-9_]+)")),e.regex=new RegExp("^"+n+"/?$")}else e.regex=t;return e},_convertRightCallback:function(t){var e=this;return"string"==typeof t?this[t]:i.isArray(t)?(i.each(t,function(i,n){i=e._convertRightCallback(i),t[n]=i}),t):t}});return f}),define("toggle-button",["require","jquery","./declare","./button"],function(t){var e=(t("jquery"),t("./declare")),i=t("./button"),n=e("ToggleButton",i,{name:"ToggleButton",template:'<div class="sui-button" role="button" tabindex="0">            <i data-role="iconElement"></i>            <span data-role="labelElement" class="sui-button-content"></span>        </div>',checked:!1,_onclick:function(t){return/disable/.test(t.currentTarget.className)?!1:(this.set("checked",!this.get("checked")),void this.handle.call(this,t))},_uiSetChecked:function(t){t?this.el.addClass("sui-state-checked"):this.el.removeClass("sui-state-checked")}});return n}),define("tool-tip",["require","jquery","./declare","./popup"],function(t){var e=(t("jquery"),t("./declare")),i=t("./popup"),n=e("ToolTip",i,{name:"TooTip",triggerType:"hover",events:{"click [data-role=closeElement]":"hide"},template:'<div class="sui-popup sui-tooltip"><div data-role="toolTipArrow" class="sui-arrow"></div><div data-role="contentElement" class="sui-tooltip-bd"></div></div>',_renderUI:function(){var t=this._getArrowMeta(this.get("direction"));this.toolTipArrow.addClass(t.className),this.set("position",t.position),this.set("offsetX",t.offsetX),this.set("offsetY",t.offsetY),this.inherit(arguments)},_bindUI:function(){this.inherit(arguments),this.before("show",function(){this.set("content",this.get("content"),{forceEvent:!0})})},_getArrowMeta:function(t){var e,i,n,r,s=this.toolTipArrow.outerWidth(),o=this.toolTipArrow.outerHeight();switch(t){case"top":e="sui-arrow-bottom",n=-o,r="lb lt";break;case"left":e="sui-arrow-right",i=-s,r="rt lt";break;case"bottom":e="sui-arrow-top",r="lt lb",n=o;break;case"right":e="sui-arrow-left",r="lt rt",i=s;break;default:e="sui-arrow-top",r="lt lb",n=o}return{className:e,position:r,offsetX:i||0,offsetY:n||0}}});return n}),define("remote-store",["require","jquery","./events","./declare","./json-store","./data-schema"],function(t){var e=t("jquery"),i=t("./events"),n=t("./declare"),r=t("./json-store"),s=t("./data-schema"),o=function(t,i){return e.ajax(e.extend({url:t},i))},a=function(t){if(t){var i=["forEach","map","filter"];return e.each(i,function(i,n){t[n]||(t[n]=function(){var i=arguments;return e.when(t).then(function(t){return Array.prototype.unshift.call(i,t||[]),a(h[n].apply(this,i))})})}),t.then||(t=e.extend(t,e.when(t).then(function(t){return t}))),t}},h={forEach:function(t,e){for(var i=0;i<t.length&&e.call(t[i],t[i],i)!==!1;i++);},map:function(t,e){for(var i=0;i<t.length;i++){var n=e.call(t[i],t[i],i);t[i]=n}return t},filter:function(t,e){var i=[];return h.forEach(t,function(t){e(t)&&i.push(t)}),i}},l=n("RemoteStore",[i,s],{queryEngine:o,target:"",index:"",init:function(){this._cacheParams={}},add:function(t,e){return e=e||{},e.override=!1,this.put(t,e)},put:function(t,i){i=e.extend({},i,t);var n=this;return this.queryEngine(this.target,i).then(function(e){return n.isLoad&&(e=e||t,i.disableEvent=!0,n.queryResult.put(t,i)),i.override===!1?n.trigger("add",t):n.trigger("put",t),e})},get:function(t,i){var n={};return n[this.index]=t,i.cache&&this.queryResult?this.queryResult.get(t):(i=i||{},this.find(n,e.extend(i,{disableEvent:!0})).then(function(t){return t[0]}))},post:function(t){return this.queryEngine(this.target,t)},find:function(t,i){var n,s=this;if(i=i||{},i.cache&&this.isLoad)return this.queryResult.find(t,i);i.override?(n=e.extend({},t,i),delete n.override):n=e.extend({},this._cacheParams,t,i),this._cacheParams=n;var o=this.queryEngine(this.target,n);return a(o),o.done(function(t){return t=t||{},s.schemaData=s.schemaFilter(t),s.data=s.schemaData.list,i.disableCache||(s.queryResult=new r({index:s.index,data:s.schemaData.list||[]}),s.isLoad=!0),i.disableEvent||s.trigger("change",s.schemaData),t}),o},remove:function(t,i){i=i||{},i[this.index]=t;var n=this;return this.queryEngine(this.target,i).then(function(r){return n.isLoad&&(i.disableEvent=!0,e.isArray(t)?e.each(t,function(t,e){n.queryResult.remove(e,i)}):n.queryResult.remove(t,i)),n.trigger("remove",r),r})},clear:function(){this.queryResult=null,this.isLoad=!1}});return l}),define("selectable",["require","./declare","./events","jquery"],function(t){var e=t("./declare"),i=t("./events"),n=t("jquery"),r=e("Selectable",i,{node:null,selectNode:null,selectCls:"sui-selectable",delay:3,init:function(){n(this.node).mousedown(this._mouseDown.bind(this))},destroy:function(){n(this.node).off()},_mouseDown:function(t){this.trigger("selectstart",t),this.lastX=t.pageX,this.lastY=t.pageY,this.hasNodeSelected=[],n(document).mousemove(this._mouseMove.bind(this)),n(document).mouseup(this._mouseUp.bind(this)),n(this.node).unselect(),n(document.body).unselect()},_mouseMove:function(t){var e,i=t.pageX,r=t.pageY,s=Math.abs(i-this.lastX),o=Math.abs(r-this.lastY),a=this;s>this.delay&&o>this.delay&&(this.selectProxy||this._createSelectArea(this.lastX,this.lastY),this.selectProxy.width(s).height(o),i-this.lastX<0&&this.selectProxy.css("left",t.pageX),r-this.lastY<0&&this.selectProxy.css("top",t.pageY),e=this.selectNode?this.selectNode:"*",n(this.node).find(e).each(function(){a._isIntersect(this,a.selectProxy[0])?1==!n(this).attr("y-selected")&&n(this).addClass(a.selectCls).attr("simple-selected",1):n(this).removeClass(a.selectCls).attr("simple-selected",0)}),this.selectstart=!0)},_mouseUp:function(){if(this.selectstart){var t=this;this.selectProxy&&this.selectProxy.remove();var e=t._getSelectedNode();this.trigger("selectend",e),this.selectProxy=null,this.selectstart=!1}n(document).unbind("mousemove").unbind("mouseup"),n(this.node).unselect(!1),n(document.body).unselect(!1)},_getSelectedNode:function(){return n(this.node).find("[simple-selected=1]")},_createSelectArea:function(t,e){this.selectProxy=n("<div/>").addClass("sui-selectable-proxy"),this.selectProxy.css({left:t,top:e}),this.selectProxy.appendTo(document.body)},_isIntersect:function(t,e){var i=n(t).offset(),r=n(e).offset(),s=n(t).width(),o=n(t).height(),a=n(e).width(),h=n(e).height();return i.top>r.top+h||i.top+o<r.top||i.left+s<r.left||i.left>r.left+a?!1:!0}});return n.fn.unselect||(n.fn.unselect=function(t){return t=null==t?!0:t,this.each(t?function(){n(this).attr("unselectable","on").css("user-select","none").on("selectstart",!1)}:function(){n(this).removeAttr("unselectable","on").css("user-select","inherit").off("selectstart")})}),r}),define("sui",["require","./simple","./attribute","./auto-complete","./button","./button-group","./combo-button","./dialog","./drag","./date-picker","./dropdown-button","./json-store","./menu","./modal","./pagination","./popup","./resizable","./router","./toggle-button","./tool-tip","./remote-store","./data-schema","./selectable"],function(t){var e=t("./simple");return t("./attribute"),t("./auto-complete"),t("./button"),t("./button-group"),t("./combo-button"),t("./dialog"),t("./drag"),t("./date-picker"),t("./dropdown-button"),t("./json-store"),t("./menu"),t("./modal"),t("./pagination"),t("./popup"),t("./resizable"),t("./router"),t("./toggle-button"),t("./tool-tip"),t("./remote-store"),t("./data-schema"),t("./selectable"),e});
//# sourceMappingURL=sui.min.js.map